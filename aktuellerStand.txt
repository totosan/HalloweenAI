curl -X POST -H "Content-Type:application/json" -d "{\"id\":\"1\"}" https://facedetection-server.delightfulground-a3e0c6ec.westeurope.azurecontainerapps.io:3000
curl https://facedetection-server.jollyflower-fe9d49b4.westeurope.azurecontainerapps.io

curl -X POST -H "Content-Type:application/json" -d "{\"id\":\"1\"}" https://totosan-microsoft-bootcamp-halloweenai-r4vw9g5p2jxg-3500.githubpreview.dev/
curl https://totosan-microsoft-bootcamp-halloweenai-r4vw9g5p2jxg-3500.githubpreview.dev/

# delete images with v1.*
docker images --format='{{.Repository}} {{.ID}} {{.Tag}}' | grep 'v1.' | cut -d' ' -f2 | xargs docker rmi -f

# delete app
az containerapp delete -g $RESOURCE_GROUP -n $CONTAINERAPPS_NAME -y &&\
az containerapp delete -g $RESOURCE_GROUP -n $CONTAINERAPPSSERVER_NAME -y &&\
az containerapp delete -g $RESOURCE_GROUP -n imageviewer -y


# listen to streaming log
watch -n 1 az containerapp logs show -g $RESOURCE_GROUP -n $CONTAINERAPPS_NAME


#alternative
id=$(az containerapp revision list -g MVPSession -n facedetection-app --query "[?properties.active].id" -o tsv) 
az containerapp revision restart --revision facedetection-app --resource-group MVPSession --ids $id


# getting last used version of facedetection
alias lastFaceAppVersion=`docker images | grep -v facedetectionapp | grep amd | awk '{print $2}' | sort | tail -n1 | cut -d '-' -f2`
alias lastFaceServerVersion=`docker images | grep facedetectionapp | grep amd | awk '{print $2}' | sort | tail -n1 | cut -d '-' -f2`